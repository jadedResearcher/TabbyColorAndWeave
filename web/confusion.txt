I notice I am confused.

If I have both heddle and warp chain groups rendered to the svg (still no graphics) the individual warp chains render to the heddle group.

if i remove the heddle group they don't show up anywhere in the dom.

do svg groups work differnet than i think?

ah i see, the heddle view is still using divs, not groups. whoops. also i made its class WarpChain like a dunkass

so REALLY the problem is NO group really works


alright new confusion actually.

heddle group has two heddle subgroups in it.

but warpChain group has nothing in it STILL.

still don't know why but if i coyp heddle's code to warp chain it works so *shrug*

hrm...

        /*int x = 0;
        for(WarpThread thread in chain.threads) {
            x+= 10;
            new ThreadView(thread, element,x)..renderThread();
        }*/

that seems to break it. why?

~~~

alright so what i wanna do right now is programmatically get a default threading go, then take a break for maybe an hour, clear my head
and THEN Worry about rendering threads.

this'll be the meat of this. does thread veer left or right? i don't fucking know and i hope svg paths can help me.


when return: use svg path to draw a thing line between the thread, and each heddle_index/section_index pair it has.
(should i destroy and recreate if it changes, or should i transform?)
(test if drag around heddle if threads move with, at least at end)


~~~~~~~~~~~~~~~~

its rendering!!!!

the only problem is that its rendering relative to the color group and not like, global coordinates?
   but you can see how, albeit offset, its attempting to thread itself into a single heddle


   gonna grab lunch and then see like...how do i get or specify global coordinates?

   gotcha! it wasn't global vs local coordinates, it was that i was moving the heddle with a transform


   ~~~

i notice i am confused

if(totalIndex%2==0) {
                    thread.heddleSections.add(heddles[0].holesAndSlots[heddle1Index]);
                    heddle1Index+= 1;
                }else {
                    thread.heddleSections.add(heddles[1].holesAndSlots[heddle2Index]);
                    heddle2Index+= 1;
                }
that's not right because it implies it never goes through the second heddle...

i need a way to ask a heddle "get me next slot to right of i", or left....



i think i need a break to clear my head.

my current confusion is:

JR NOTE: looking front slot that veers left to back hole
dart_sdk.js:18676 JR NOTE: left slot found at index 1, when initial was 3

but i SEE that the thing going through the slot is veering right, looks like index ................

oh.

I've been doing this all wrong.

I'm a FOOL.

index isn't just "total /2" or even "how many threads have gone into a single heddle"  BECAUSE MULTIPLE THREADS GO INTO THE SAME SECTION.

i'm a fool .  index should just be (for these start up algs) how many threads are already done. no no, thats not right its...


hrm.

Okay let's go through the use case.

I have a slot going through both heddles. The next thread is "same slot as before, but veer left after".

i'm not looking for an index so much as a spot? how do i know when to move right?  when all four threads are placed....

~~~~

okay i got the basic double heddle more or less done but i wanted to thread for twill and wow it fucke dup. crossed threads everywhere.

far right slot to left hole is going into a hole BEFORE the slot hole to its left. why??? that one is veering to the right for...REASONS???

ten minutes till movie night

~~~

i think i've gotten distracted trying to do default things?
i think i wanna focus instead on getting the ui/serialization working cuz then i can just make the defaults same way i did for the non rigidheddle one.

i wanna focus nearly entirely on rigid heddle to fabric tomorrow, which means making a pick system.
  do i want it above or below the heddle? to the side?


 ANYWAYS got an hour before game night and i wanna get my thoughts straight:

UI:

x  I want to be able to click a thread box to select it. At which point it should be highlighted, have its heddle list cleared, AND instructions should display on screen
x I want to click a slot or hole while a thread box is selected to add that slot or hole to its heddle list
x ability to rerender thread.


Picks:
* I want to be able to have a set of default picks for my fabric.
* i want picks to be rendered on screen as Pick X and an editable color and heddle states dropdowns (up, down, neutral).
*I want to be able to delete an existing pick.
*I want to be able to add a pick
* I want to display a canvas fabric based on my threading and my picks so far. (since each thread knows what what sections it has should be able to turn that into sheds)

Serialization:
* I want to be able to save the size of my heddle and how many heddles there are.  (even if not yet configurable)
* I want to be able to save each thread, including color and heddle list (original idea of list of indices) (even if not yet configurable)
* I want to be able to save each pick, which would be color, and state of each heddle
* I want to serialize to the canvas as image archive
* I want to be able to load from image archive


Stretch goals:
* I want to be able to number the threads
* I want to be able to say "repeat threads 3-14 7 times" (but only for existing threads).
* I want to be able to say "repeat picks 3-14 7 times" (and add picks)